{"version":3,"sources":["webpack://laravel-react/./resources/js/modules/article/Article.js","webpack://laravel-react/./resources/js/modules/article/pages/edit/Page.js","webpack://laravel-react/./resources/js/modules/article/pages/edit/components/Form.js","webpack://laravel-react/./resources/js/modules/article/pages/edit/index.js","webpack://laravel-react/./resources/js/modules/article/service.js","webpack://laravel-react/./resources/js/modules/article/store/actions.js"],"names":["Article","props","initialize","slug","title","description","content","published","publishedAt","moment","user","User","Model","Page","validator","Validator","article","toJson","state","errors","handleSubmit","bind","handleChange","loadArticle","nextProps","_","setState","match","dispatch","id","articleEditRequest","params","name","value","remove","validate","then","e","preventDefault","validateAll","success","submit","articleUpdateRequest","error","statusCode","message","field","add","renderForm","Component","PropTypes","isRequired","displayName","propTypes","onChange","onSubmit","Form","has","target","first","any","mapStateToProps","router","articles","data","find","Number","connect","transformRequest","parms","Transformer","transformResponse","articleAddRequest","Promise","resolve","reject","Http","res","articleActions","err","response","status","resetErrors","replace","searchStr","replaceStr","articleRemoveRequest","console","articleListRequest","pageNumber","url","articleFetchRequest","payload","type","ARTICLE_ADD","update","ARTICLE_UPDATE","ARTICLE_REMOVE","list","ARTICLE_LIST"],"mappings":"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","file":"js/resources_js_modules_article_pages_edit_index_js.js","sourcesContent":["import moment from 'moment'\r\nimport Model from '../../utils/Model'\r\nimport User from '../user/User'\r\n\r\nclass Article extends Model {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.initialize(props)\r\n  }\r\n\r\n  initialize(props) {\r\n    super.initialize(props)\r\n\r\n    this.slug = props.slug || ''\r\n    this.title = props.title || ''\r\n    this.description = props.description || ''\r\n    this.content = props.content || ''\r\n    this.published = props.published || false\r\n    this.publishedAt = props.publishedAt ? moment(props.publishedAt) : null\r\n\r\n    // relate user model\r\n    this.user = props.user ? new User(props.user) : null\r\n  }\r\n}\r\n\r\nexport default Article\r\n","// import libs\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport _ from 'lodash'\r\nimport { articleEditRequest, articleUpdateRequest } from '../../service'\r\nimport { Validator } from 'ree-validate'\r\n\r\n// import components\r\nimport Form from './components/Form'\r\n\r\nclass Page extends Component {\r\n  static displayName = 'EditArticle'\r\n  static propTypes = {\r\n    match: PropTypes.object.isRequired,\r\n    article: PropTypes.object,\r\n    dispatch: PropTypes.func.isRequired,\r\n  }\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    this.validator = new Validator({\r\n      title: 'required|min:3',\r\n      content: 'required|min:10',\r\n      description: 'required|min:10',\r\n    })\r\n    \r\n    const article = this.props.article.toJson()\r\n    \r\n    this.state = {\r\n      article,\r\n      errors: this.validator.errors\r\n    }\r\n    \r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.loadArticle()\r\n  }\r\n  \r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const article = nextProps.article.toJson()\r\n    \r\n    if (!_.isEqual(this.state.article, article)) {\r\n      this.setState({ article })\r\n    }\r\n    \r\n  }\r\n  \r\n  loadArticle() {\r\n    const { match, article, dispatch } = this.props\r\n    \r\n    if (!article.id) {\r\n      dispatch(articleEditRequest(match.params.id))\r\n    }\r\n  }\r\n  \r\n  handleChange(name, value) {\r\n    const { errors } = this.validator\r\n    \r\n    this.setState({ article: { ...this.state.article, [name]: value} })\r\n    \r\n    errors.remove(name)\r\n    \r\n    this.validator.validate(name, value)\r\n      .then(() => {\r\n        this.setState({ errors })\r\n      })\r\n  }\r\n  \r\n  handleSubmit(e) {\r\n    e.preventDefault()\r\n    const article = this.state.article\r\n    const { errors } = this.validator\r\n    \r\n    this.validator.validateAll(article)\r\n      .then((success) => {\r\n        if (success) {\r\n          this.submit(article)\r\n        } else {\r\n          this.setState({ errors })\r\n        }\r\n      })\r\n  }\r\n  \r\n  submit(article) {\r\n    this.props.dispatch(articleUpdateRequest(article))\r\n      .catch(({ error, statusCode }) => {\r\n        const { errors } = this.validator\r\n        \r\n        if (statusCode === 422) {\r\n          _.forOwn(error, (message, field) => {\r\n            errors.add(field, message);\r\n          });\r\n        }\r\n        \r\n        this.setState({ errors })\r\n      })\r\n  }\r\n  \r\n  renderForm() {\r\n    const { article } = this.props\r\n    \r\n    if (article.id) {\r\n      return <Form {...this.state}\r\n                   onChange={this.handleChange}\r\n                   onSubmit={this.handleSubmit} />\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return <main className=\"col-sm-9 ml-sm-auto col-md-10 pt-3\" role=\"main\">\r\n      <h1>Edit</h1>\r\n      { this.renderForm() }\r\n    </main>\r\n  }\r\n}\r\n\r\nexport default Page\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst displayName = 'ArticleFrom'\r\nconst propTypes = {\r\n  article: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\nconst Form = ({ article, errors, onChange, onSubmit }) => {\r\n  \r\n  function handleChange(name, value) {\r\n    if (value !== article[name]) {\r\n      onChange(name, value)\r\n    }\r\n  }\r\n  \r\n  return <form onSubmit={e => onSubmit(e)}>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"title\" className=\"col-sm-2 col-form-label\">Title</label>\r\n      <div className=\"col-sm-10\">\r\n        <input type=\"text\"\r\n               id=\"title\"\r\n               name=\"title\"\r\n               className={`form-control ${errors.has('title') && 'is-invalid'}`}\r\n               placeholder=\"Title\"\r\n               value={article.title || ''}\r\n               onChange={e => handleChange(e.target.name, e.target.value)} />\r\n        {errors.has('title') && <div className=\"invalid-feedback\">{errors.first('title')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"description\" className=\"col-sm-2 col-form-label\">Description</label>\r\n      <div className=\"col-sm-10\">\r\n        <textarea id=\"description\"\r\n                  name=\"description\"\r\n                  className={`form-control ${errors.has('description') && 'is-invalid'}`}\r\n                  rows=\"3\"\r\n                  placeholder=\"Description\"\r\n                  value={article.description}\r\n                  onChange={e => handleChange(e.target.name, e.target.value)} />\r\n        {errors.has('description') && <div className=\"invalid-feedback\">{errors.first('description')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"content\" className=\"col-sm-2 col-form-label\">Content</label>\r\n      <div className=\"col-sm-10\">\r\n        <textarea id=\"content\"\r\n                  name=\"content\"\r\n                  className={`form-control ${errors.has('content') && 'is-invalid'}`}\r\n                  rows=\"3\"\r\n                  placeholder=\"Content\"\r\n                  value={article.content}\r\n                  onChange={e => handleChange(e.target.name, e.target.value)} />\r\n        {errors.has('content') && <div className=\"invalid-feedback\">{errors.first('content')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <div className=\"col-sm-10 ml-auto\">\r\n        <button disabled={errors.any()} type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n}\r\n\r\nForm.displayName = displayName\r\nForm.propTypes = propTypes\r\n\r\nexport default Form\r\n","import { connect } from 'react-redux'\r\nimport Article from '../../Article'\r\n\r\n// import components\r\nimport Page from './Page'\r\n\r\nconst mapStateToProps = (state, router) => {\r\n  const { params } = router.match\r\n  const article = state.articles.data.find(article => article.id === Number(params.id))\r\n  return {\r\n    article: article ? new Article(article) : new Article({})\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Page)\r\n","import Http from '../../utils/Http'\r\nimport Transformer from '../../utils/Transformer'\r\nimport * as articleActions from './store/actions'\r\n\r\nfunction transformRequest(parms) {\r\n  return Transformer.send(parms)\r\n}\r\n\r\nfunction transformResponse(params) {\r\n  return Transformer.fetch(params)\r\n}\r\n\r\nexport function articleAddRequest(params) {\r\n  return dispatch => (\r\n    new Promise((resolve, reject) => {\r\n      Http.post('api/v1/articles', transformRequest(params))\r\n        .then(res => {\r\n          dispatch(articleActions.add(transformResponse(res.data)))\r\n          return resolve()\r\n        })\r\n        .catch((err) => {\r\n          const statusCode = err.response.status;\r\n          const data = {\r\n            error: null,\r\n            statusCode,\r\n          };\r\n\r\n          if (statusCode === 422) {\r\n            const resetErrors = {\r\n              errors: err.response.data,\r\n              replace: false,\r\n              searchStr: '',\r\n              replaceStr: '',\r\n            };\r\n            data.error = Transformer.resetValidationFields(resetErrors);\r\n          } else if (statusCode === 401) {\r\n            data.error = err.response.data.message;\r\n          }\r\n          return reject(data);\r\n        })\r\n    })\r\n  )\r\n}\r\n\r\nexport function articleUpdateRequest(params) {\r\n  return dispatch => (\r\n    new Promise((resolve, reject) => {\r\n      Http.patch(`api/v1/articles/${params.id}`, transformRequest(params))\r\n        .then(res => {\r\n          dispatch(articleActions.add(transformResponse(res.data)))\r\n          return resolve()\r\n        })\r\n        .catch((err) => {\r\n          const statusCode = err.response.status;\r\n          const data = {\r\n            error: null,\r\n            statusCode,\r\n          };\r\n\r\n          if (statusCode === 422) {\r\n            const resetErrors = {\r\n              errors: err.response.data,\r\n              replace: false,\r\n              searchStr: '',\r\n              replaceStr: '',\r\n            };\r\n            data.error = Transformer.resetValidationFields(resetErrors);\r\n          } else if (statusCode === 401) {\r\n            data.error = err.response.data.message;\r\n          }\r\n          return reject(data);\r\n        })\r\n    })\r\n  )\r\n}\r\n\r\nexport function articleRemoveRequest(id) {\r\n  return dispatch => {\r\n    Http.delete(`api/v1/articles/${id}`)\r\n      .then(() => {\r\n        dispatch(articleActions.remove(id))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleListRequest(params) {\r\n\r\n  let { pageNumber = 1, url = 'api/v1/articles' } = params\r\n\r\n  return dispatch => {\r\n    if (pageNumber > 1) {\r\n      url = url + `?page=${pageNumber}`\r\n    }\r\n\r\n    Http.get(url)\r\n      .then((res) => {\r\n        dispatch(articleActions.list(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleEditRequest(id) {\r\n  return dispatch => {\r\n    Http.get(`api/v1/articles/${id}`)\r\n      .then((res) => {\r\n        dispatch(articleActions.add(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleFetchRequest(slug) {\r\n  return dispatch => {\r\n    Http.get(`api/v1/articles/published/${slug}`)\r\n      .then((res) => {\r\n        dispatch(articleActions.add(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n","/* ============\r\n * Actions for the article module\r\n * ============\r\n *\r\n * The actions that are available on the\r\n * article module.\r\n */\r\n\r\nimport {\r\n  ARTICLE_ADD,\r\n  ARTICLE_UPDATE,\r\n  ARTICLE_REMOVE,\r\n  ARTICLE_LIST,\r\n} from './action-types';\r\n\r\nexport function add(payload) {\r\n  return {\r\n    type: ARTICLE_ADD,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function update(payload) {\r\n  return {\r\n    type: ARTICLE_UPDATE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function remove(payload) {\r\n  return {\r\n    type: ARTICLE_REMOVE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function list(payload) {\r\n  return {\r\n    type: ARTICLE_LIST,\r\n    payload\r\n  }\r\n}"],"sourceRoot":""}