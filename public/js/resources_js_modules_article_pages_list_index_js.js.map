{"version":3,"sources":["webpack://laravel-react/./resources/js/modules/article/Article.js","webpack://laravel-react/./resources/js/modules/article/pages/list/Page.js","webpack://laravel-react/./resources/js/modules/article/pages/list/components/ArticleRow.js","webpack://laravel-react/./resources/js/modules/article/pages/list/components/Pagination.js","webpack://laravel-react/./resources/js/modules/article/pages/list/index.js","webpack://laravel-react/./resources/js/modules/article/service.js","webpack://laravel-react/./resources/js/modules/article/store/actions.js"],"names":["Article","props","initialize","slug","title","description","content","published","publishedAt","moment","user","User","Model","Page","pageNumber","dispatch","articleListRequest","id","article","articles","find","articleUpdateRequest","toJson","articleRemoveRequest","map","index","togglePublish","handleRemove","renderArticles","meta","pageChange","Component","PropTypes","isRequired","displayName","propTypes","ArticleRow","createdAt","format","updatedAt","Pagination","state","range","Array","lastPage","keys","n","className","currentPage","onChange","renderLinks","mapStateToProps","data","Object","assign","connect","transformRequest","parms","Transformer","transformResponse","params","articleAddRequest","Promise","resolve","reject","Http","then","res","articleActions","err","statusCode","response","status","error","resetErrors","errors","replace","searchStr","replaceStr","message","console","url","articleEditRequest","articleFetchRequest","add","payload","type","ARTICLE_ADD","update","ARTICLE_UPDATE","remove","ARTICLE_REMOVE","list","ARTICLE_LIST"],"mappings":"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","file":"js/resources_js_modules_article_pages_list_index_js.js","sourcesContent":["import moment from 'moment'\r\nimport Model from '../../utils/Model'\r\nimport User from '../user/User'\r\n\r\nclass Article extends Model {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.initialize(props)\r\n  }\r\n\r\n  initialize(props) {\r\n    super.initialize(props)\r\n\r\n    this.slug = props.slug || ''\r\n    this.title = props.title || ''\r\n    this.description = props.description || ''\r\n    this.content = props.content || ''\r\n    this.published = props.published || false\r\n    this.publishedAt = props.publishedAt ? moment(props.publishedAt) : null\r\n\r\n    // relate user model\r\n    this.user = props.user ? new User(props.user) : null\r\n  }\r\n}\r\n\r\nexport default Article\r\n","// import libs\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport moment from 'moment'\r\nimport { articleListRequest, articleUpdateRequest, articleRemoveRequest } from '../../service'\r\n\r\n// import components\r\nimport ArticleRow from './components/ArticleRow'\r\nimport Pagination from './components/Pagination'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass Page extends Component {\r\n  static displayName = 'ArticlesPage'\r\n  static propTypes = {\r\n    meta: PropTypes.object.isRequired,\r\n    articles: PropTypes.array.isRequired,\r\n    dispatch: PropTypes.func.isRequired,\r\n  }\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { dispatch } = this.props\r\n\r\n    dispatch(articleListRequest({}))\r\n  }\r\n\r\n  pageChange = (pageNumber) => {\r\n    this.props.dispatch(articleListRequest({ pageNumber }))\r\n  }\r\n\r\n  togglePublish = (id) => {\r\n    const article = this.props.articles.find(article => (article.id === id))\r\n\r\n    if (!article)\r\n      return\r\n\r\n    article.published = !article.published\r\n    if (article.published) {\r\n      article.publishedAt = moment()\r\n    } else {\r\n      article.publishedAt = null\r\n    }\r\n\r\n    this.props.dispatch(articleUpdateRequest(article.toJson()))\r\n  }\r\n\r\n  handleRemove = (id) => {\r\n    this.props.dispatch(articleRemoveRequest(id))\r\n  }\r\n\r\n  renderArticles() {\r\n    return this.props.articles.map((article, index) => {\r\n      return <ArticleRow key={index}\r\n                         article={article}\r\n                         index={index}\r\n                         togglePublish={this.togglePublish}\r\n                         handleRemove={this.handleRemove}/>\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    return <main className=\"col-sm-9 ml-sm-auto col-md-10 pt-3\" role=\"main\">\r\n      <h1>Portfolio</h1>\r\n      <table className=\"table table-responsive table-striped\">\r\n        <thead className=\"thead-inverse\">\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Title</th>\r\n          <th>Description</th>\r\n          <th>Created At</th>\r\n          <th>Updated At</th>\r\n          <th>Published At</th>\r\n          <th><Link to='/articles/create' className=\"btn btn-success\">Add</Link></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        { this.renderArticles() }\r\n        </tbody>\r\n      </table>\r\n      <Pagination meta={this.props.meta} onChange={this.pageChange}/>\r\n      </main>\r\n  }\r\n}\r\n\r\nexport default Page\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst displayName = 'ArticleRow'\r\nconst propTypes = {\r\n  index: PropTypes.number.isRequired,\r\n  article: PropTypes.object.isRequired,\r\n  togglePublish: PropTypes.func.isRequired,\r\n  handleRemove: PropTypes.func.isRequired,\r\n}\r\n\r\nconst ArticleRow = ({ index, article, togglePublish, handleRemove }) => {\r\n  return (<tr key={index}>\r\n    <th scope=\"row\">{index+1}</th>\r\n    <td>{article.title}</td>\r\n    <td>{article.description}</td>\r\n    <td>{article.createdAt && article.createdAt.format('MMMM, DD YYYY')}</td>\r\n    <td>{article.updatedAt && article.updatedAt.format('MMMM, DD YYYY')}</td>\r\n    <td>{article.publishedAt && article.publishedAt.format('MMMM, DD YYYY')}</td>\r\n    <td>\r\n      <div className=\"btn-group\" role=\"group\" aria-label=\"Actions\">\r\n        {\r\n          article.published\r\n          ? <button className=\"btn btn-warning\" onClick={() => togglePublish(article.id)}>Un Published</button>\r\n          : <button className=\"btn btn-success\" onClick={() => togglePublish(article.id)}>Publish</button>\r\n        }\r\n        <Link className=\"btn btn-primary\" to={`articles/${article.id}/edit`}>Edit</Link>\r\n        <button className=\"btn btn-danger\" onClick={() => handleRemove(article.id)}>Delete</button>\r\n      </div>\r\n    </td>\r\n  </tr>)\r\n}\r\n\r\nArticleRow.displayName = displayName\r\nArticleRow.propTypes = propTypes\r\n\r\nexport default ArticleRow","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Pagination extends Component {\r\n  static displayName = 'Pagination'\r\n  static propTypes = {\r\n    meta: PropTypes.object.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n  }\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    this.state = {\r\n      //\r\n    }\r\n  }\r\n  \r\n  renderLinks() {\r\n    const { meta } = this.props\r\n    const range = [...Array(meta.lastPage).keys()]\r\n    \r\n    return range.map(n => {\r\n      const className = meta.currentPage === (n+1) ? 'primary' : 'light'\r\n      \r\n      return <button key={n}\r\n                     type=\"button\"\r\n                     className={`btn btn-${className}`}\r\n                     onClick={() => this.props.onChange(n+1)}>{n+1}</button>\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    return <div className=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\r\n      <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\r\n        {this.renderLinks()}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Pagination\r\n","// import libs\r\nimport { connect } from 'react-redux'\r\nimport Article from '../../Article'\r\n\r\n// import components\r\nimport Page from './Page'\r\n\r\nconst mapStateToProps = state => {\r\n  const {data, ...meta} = state.articles\r\n  \r\n  return {\r\n    articles: data?.map((article) => new Article(article)),\r\n    meta: Object.assign({}, meta)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Page)\r\n","import Http from '../../utils/Http'\r\nimport Transformer from '../../utils/Transformer'\r\nimport * as articleActions from './store/actions'\r\n\r\nfunction transformRequest(parms) {\r\n  return Transformer.send(parms)\r\n}\r\n\r\nfunction transformResponse(params) {\r\n  return Transformer.fetch(params)\r\n}\r\n\r\nexport function articleAddRequest(params) {\r\n  return dispatch => (\r\n    new Promise((resolve, reject) => {\r\n      Http.post('api/v1/articles', transformRequest(params))\r\n        .then(res => {\r\n          dispatch(articleActions.add(transformResponse(res.data)))\r\n          return resolve()\r\n        })\r\n        .catch((err) => {\r\n          const statusCode = err.response.status;\r\n          const data = {\r\n            error: null,\r\n            statusCode,\r\n          };\r\n\r\n          if (statusCode === 422) {\r\n            const resetErrors = {\r\n              errors: err.response.data,\r\n              replace: false,\r\n              searchStr: '',\r\n              replaceStr: '',\r\n            };\r\n            data.error = Transformer.resetValidationFields(resetErrors);\r\n          } else if (statusCode === 401) {\r\n            data.error = err.response.data.message;\r\n          }\r\n          return reject(data);\r\n        })\r\n    })\r\n  )\r\n}\r\n\r\nexport function articleUpdateRequest(params) {\r\n  return dispatch => (\r\n    new Promise((resolve, reject) => {\r\n      Http.patch(`api/v1/articles/${params.id}`, transformRequest(params))\r\n        .then(res => {\r\n          dispatch(articleActions.add(transformResponse(res.data)))\r\n          return resolve()\r\n        })\r\n        .catch((err) => {\r\n          const statusCode = err.response.status;\r\n          const data = {\r\n            error: null,\r\n            statusCode,\r\n          };\r\n\r\n          if (statusCode === 422) {\r\n            const resetErrors = {\r\n              errors: err.response.data,\r\n              replace: false,\r\n              searchStr: '',\r\n              replaceStr: '',\r\n            };\r\n            data.error = Transformer.resetValidationFields(resetErrors);\r\n          } else if (statusCode === 401) {\r\n            data.error = err.response.data.message;\r\n          }\r\n          return reject(data);\r\n        })\r\n    })\r\n  )\r\n}\r\n\r\nexport function articleRemoveRequest(id) {\r\n  return dispatch => {\r\n    Http.delete(`api/v1/articles/${id}`)\r\n      .then(() => {\r\n        dispatch(articleActions.remove(id))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleListRequest(params) {\r\n\r\n  let { pageNumber = 1, url = 'api/v1/articles' } = params\r\n\r\n  return dispatch => {\r\n    if (pageNumber > 1) {\r\n      url = url + `?page=${pageNumber}`\r\n    }\r\n\r\n    Http.get(url)\r\n      .then((res) => {\r\n        dispatch(articleActions.list(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleEditRequest(id) {\r\n  return dispatch => {\r\n    Http.get(`api/v1/articles/${id}`)\r\n      .then((res) => {\r\n        dispatch(articleActions.add(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n\r\nexport function articleFetchRequest(slug) {\r\n  return dispatch => {\r\n    Http.get(`api/v1/articles/published/${slug}`)\r\n      .then((res) => {\r\n        dispatch(articleActions.add(transformResponse(res.data)))\r\n      })\r\n      .catch((err) => {\r\n        // TODO: handle err\r\n        console.error(err.response)\r\n      })\r\n  }\r\n}\r\n","/* ============\r\n * Actions for the article module\r\n * ============\r\n *\r\n * The actions that are available on the\r\n * article module.\r\n */\r\n\r\nimport {\r\n  ARTICLE_ADD,\r\n  ARTICLE_UPDATE,\r\n  ARTICLE_REMOVE,\r\n  ARTICLE_LIST,\r\n} from './action-types';\r\n\r\nexport function add(payload) {\r\n  return {\r\n    type: ARTICLE_ADD,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function update(payload) {\r\n  return {\r\n    type: ARTICLE_UPDATE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function remove(payload) {\r\n  return {\r\n    type: ARTICLE_REMOVE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function list(payload) {\r\n  return {\r\n    type: ARTICLE_LIST,\r\n    payload\r\n  }\r\n}"],"sourceRoot":""}