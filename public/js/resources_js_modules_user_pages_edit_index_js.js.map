{"version":3,"sources":["webpack://laravel-react/./resources/js/modules/user/pages/edit/Page.js","webpack://laravel-react/./resources/js/modules/user/pages/edit/components/Form.js","webpack://laravel-react/./resources/js/modules/user/pages/edit/index.js","webpack://laravel-react/./resources/js/modules/user/service.js","webpack://laravel-react/./resources/js/modules/user/store/actions.js"],"names":["Page","props","validator","Validator","user","toJson","state","errors","handleChange","bind","handleSubmit","nextProps","_","setState","name","value","remove","validate","then","e","preventDefault","validateAll","success","submit","dispatch","userUpdateRequest","error","statusCode","message","field","add","Component","PropTypes","isRequired","displayName","propTypes","onChange","onSubmit","Form","has","target","first","email","phone","about","any","mapStateToProps","User","connect","params","Promise","resolve","reject","Http","id","Transformer","res","userActions","data","err","response","status","resetErrors","replace","searchStr","replaceStr","userUpdate","payload","type","USER_UPDATE","unsetUser","USER_UNSET"],"mappings":"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","file":"js/resources_js_modules_user_pages_edit_index_js.js","sourcesContent":["// import libs\r\nimport React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport _ from 'lodash'\r\nimport { userUpdateRequest } from '../../service'\r\nimport { Validator } from 'ree-validate'\r\n\r\n// import components\r\nimport Form from './components/Form'\r\n\r\nclass Page extends Component {\r\n  static displayName = 'UserPage'\r\n  static propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    dispatch: PropTypes.func.isRequired,\r\n  }\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    this.validator = new Validator({\r\n      'name': 'required|min:3',\r\n      'email': 'required|email',\r\n      'phone': 'min:8|numeric',\r\n      'about': 'min:10|max:1024',\r\n    })\r\n    \r\n    const user = this.props.user.toJson()\r\n    \r\n    this.state = {\r\n      user,\r\n      errors: this.validator.errors\r\n    }\r\n    \r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const user = nextProps.user.toJson()\r\n    \r\n    if (!_.isEqual(this.state.user, user)) {\r\n      this.setState({ user })\r\n    }\r\n    \r\n  }\r\n  \r\n  handleChange(name, value) {\r\n    const { errors } = this.validator\r\n    \r\n    this.setState({ user: { ...this.props.user, [name]: value} })\r\n    \r\n    errors.remove(name)\r\n    \r\n    this.validator.validate(name, value)\r\n      .then(() => {\r\n          this.setState({ errors })\r\n      })\r\n  }\r\n  \r\n  handleSubmit(e) {\r\n    e.preventDefault()\r\n    const user = this.state.user\r\n    const { errors } = this.validator\r\n    \r\n    this.validator.validateAll(user)\r\n      .then((success) => {\r\n        if (success) {\r\n          this.submit(user)\r\n        } else {\r\n          this.setState({ errors })\r\n        }\r\n      })\r\n  }\r\n  \r\n  submit(user) {\r\n    this.props.dispatch(userUpdateRequest(user))\r\n      .catch(({ error, statusCode }) => {\r\n        const { errors } = this.validator\r\n        \r\n        if (statusCode === 422) {\r\n          _.forOwn(error, (message, field) => {\r\n            errors.add(field, message);\r\n          });\r\n        }\r\n        \r\n        this.setState({ errors })\r\n      })\r\n  }\r\n  \r\n  render() {\r\n    return <main className=\"col-sm-9 ml-sm-auto col-md-10 pt-3\" role=\"main\">\r\n      <h1>Profile</h1>\r\n  \r\n      <section className=\"row\">\r\n        <div className=\"col-12 col-md-9 col-sm-12\">\r\n          <Form {...this.state}\r\n                onChange={this.handleChange}\r\n                onSubmit={this.handleSubmit}/>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  }\r\n}\r\n\r\nexport default Page\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst displayName = 'UserFrom'\r\nconst propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\nconst Form = ({ user, errors, onChange, onSubmit }) => {\r\n  return <form onSubmit={e => onSubmit(e)}>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"name\" className=\"col-sm-2 col-form-label\">Name</label>\r\n      <div className=\"col-sm-10\">\r\n        <input type=\"text\"\r\n               id=\"name\"\r\n               name=\"name\"\r\n               className={`form-control ${errors.has('name') && 'is-invalid'}`}\r\n               placeholder=\"Full Name\"\r\n               value={user.name || ''}\r\n               onChange={e => onChange(e.target.name, e.target.value)} />\r\n        {errors.has('name') && <div className=\"invalid-feedback\">{errors.first('name')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"email\" className=\"col-sm-2 col-form-label\">Email</label>\r\n      <div className=\"col-sm-10\">\r\n        <input type=\"email\"\r\n               id=\"email\"\r\n               name=\"email\"\r\n               className={`form-control ${errors.has('email') && 'is-invalid'}`}\r\n               placeholder=\"Email\"\r\n               value={user.email || ''}\r\n               onChange={e => onChange(e.target.name, e.target.value)}/>\r\n        {errors.has('email') && <div className=\"invalid-feedback\">{errors.first('email')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"phone\" className=\"col-sm-2 col-form-label\">Phone</label>\r\n      <div className=\"col-sm-10\">\r\n        <input type=\"text\"\r\n               id=\"phone\"\r\n               name=\"phone\"\r\n               className={`form-control ${errors.has('phone') && 'is-invalid'}`}\r\n               placeholder=\"Phone\"\r\n               value={user.phone || ''}\r\n               onChange={e => onChange(e.target.name, e.target.value)}/>\r\n        {errors.has('phone') && <div className=\"invalid-feedback\">{errors.first('phone')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <label htmlFor=\"about\" className=\"col-sm-2 col-form-label\">About</label>\r\n      <div className=\"col-sm-10\">\r\n        <textarea id=\"about\"\r\n                  name=\"about\"\r\n                  className={`form-control ${errors.has('about') && 'is-invalid'}`}\r\n                  rows=\"3\"\r\n                  placeholder=\"About\"\r\n                  value={user.about || ''}\r\n                  onChange={e => onChange(e.target.name, e.target.value)} />\r\n        {errors.has('about') && <div className=\"invalid-feedback\">{errors.first('about')}</div>}\r\n      </div>\r\n    </div>\r\n    <div className=\"form-group row\">\r\n      <div className=\"col-sm-10 ml-auto\">\r\n        <button disabled={errors.any()} type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n}\r\n\r\nForm.displayName = displayName\r\nForm.propTypes = propTypes\r\n\r\nexport default Form\r\n","/* ============\r\n * Container\r\n * ============.\r\n *\r\n * Containers are used fetch the data from state\r\n * and disperse to the components.\r\n */\r\n\r\n// import libs\r\nimport { connect } from 'react-redux'\r\nimport User from '../../User'\r\n\r\n// import components\r\nimport Page from './Page'\r\n\r\n// map store state as properties of the component\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: new User(state.user)\r\n  }\r\n}\r\n\r\n// binding store with component\r\nexport default connect(mapStateToProps)(Page)\r\n","import Http from '../../utils/Http'\r\nimport Transformer from '../../utils/Transformer'\r\nimport * as userActions from './store/actions'\r\n\r\nexport function userUpdateRequest(params) {\r\n  return dispatch => (\r\n    new Promise((resolve, reject) => {\r\n      Http.patch(`/users/${params.id}`, Transformer.send(params))\r\n        .then(res => {\r\n          dispatch(userActions.userUpdate(Transformer.fetch(res.data.user)))\r\n          return resolve()\r\n        })\r\n        .catch((err) => {\r\n          const statusCode = err.response.status;\r\n          const data = {\r\n            error: null,\r\n            statusCode,\r\n          };\r\n\r\n          if (statusCode === 422) {\r\n            const resetErrors = {\r\n              errors: err.response.data,\r\n              replace: false,\r\n              searchStr: '',\r\n              replaceStr: '',\r\n            };\r\n            data.error = Transformer.resetValidationFields(resetErrors);\r\n          } else if (statusCode === 401) {\r\n            data.error = err.response.data.message;\r\n          }\r\n          return reject(data);\r\n        })\r\n    })\r\n  )\r\n}\r\n","/* ============\r\n * Actions for the user module\r\n * ============\r\n *\r\n * The actions that are available on the\r\n * user module.\r\n */\r\n\r\nimport {\r\n  USER_UPDATE,\r\n  USER_UNSET,\r\n} from './action-types';\r\n\r\nexport function userUpdate(payload) {\r\n  return {\r\n    type: USER_UPDATE,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function unsetUser() {\r\n  return {\r\n    type: USER_UNSET,\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}